(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],{26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(17),r=a.n(n),i=(a(26),a(2)),l=a(3),o=(a(27),a(9)),j=(a(28),a(0));function u(){return Object(j.jsx)("div",{className:"header",children:Object(j.jsx)(o.b,{to:"/",className:"header__link",children:Object(j.jsx)("h1",{className:"header__title",children:"Search for characters Rick And Morty API"})})})}a(35);function b(){var e=(new Date).getFullYear();return Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)("h2",{className:"footer__title",children:"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u041a\u043e\u0442\u0435\u0433\u043e\u0432\u043e\u0439 \u041d\u0430\u0434\u0435\u0436\u0434\u044b"}),Object(j.jsxs)("div",{className:"footer__wrapper",children:[Object(j.jsxs)("p",{className:"footer__copyright",children:["\xa9 ",e]}),Object(j.jsx)("a",{className:"footer__link",href:"https://github.com/Kotezh",target:"_blank",rel:"noreferrer noopener",children:"Github"})]})]})}a(36);var d=a(21);a(37),a(38);function h(e){var t=e.card,a=e.onCardClick;return Object(j.jsxs)("div",{className:"card",onClick:function(){a(t)},children:[Object(j.jsx)("img",{className:"card__image",src:(null===t||void 0===t?void 0:t.image)||"",alt:(null===t||void 0===t?void 0:t.name)||""}),Object(j.jsx)("div",{className:"card__caption-wrapper",children:Object(j.jsx)("h3",{className:"card__title",children:(null===t||void 0===t?void 0:t.name)||""})})]})}function p(e){var t=e.searchedCards,a=e.isNoData,s=e.isMobile,n=e.isTablet,r=e.isError,l=e.onCardClick,o=Object(c.useState)(t),u=Object(i.a)(o,2),b=u[0],p=u[1],O=s?2:n?3:8,_=Object(c.useState)(12),m=Object(i.a)(_,2),x=m[0],f=m[1];return Object(c.useEffect)((function(){var e=t.map((function(e){return Object(d.a)({},e)}));p(e)}),[t]),Object(j.jsxs)("section",{className:"cards-section",children:[Object(j.jsx)("div",{className:"cards-section__list",children:r?Object(j.jsx)("span",{className:"cards-section__error",children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}):a?Object(j.jsx)("span",{className:"cards-section__no-data",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):b.filter((function(e,t){return t<x})).map((function(e){return Object(j.jsx)(h,{card:e,onCardClick:l},e.id)}))}),(null===b||void 0===b?void 0:b.length)>x&&!r&&Object(j.jsx)("button",{onClick:function(){f(x+O)},className:"cards-section__btn-more",children:"Load more"})]})}a(39);function O(){return Object(j.jsx)("div",{className:"preloader",children:Object(j.jsx)("div",{className:"preloader__container",children:Object(j.jsx)("span",{className:"preloader__round"})})})}a(40);function _(e){for(var t=e.pages,a=e.currentPage,c=e.onPreviousPage,s=e.onPageClick,n=e.onNextPage,r=[],i=1;i<=t;i++)r.push(i);return Object(j.jsx)(j.Fragment,{children:t<=1?null:Object(j.jsx)("section",{className:"pagination",children:Object(j.jsxs)("ul",{className:"pagination__list",children:[Object(j.jsx)("li",{className:"pagination__item",children:Object(j.jsx)("button",{className:"pagination__btn pagination__btn_type_go",disabled:1===a?"disabled":null,onClick:c,children:"Previous Page"})}),r.map((function(e){return Object(j.jsx)("li",{className:"pagination__item",children:Object(j.jsx)("button",{className:"pagination__btn ".concat(a===e?"pagination__btn_active":""),onClick:function(t){return s(t,e)},children:e})},e)})),Object(j.jsx)("li",{className:"pagination__item",children:Object(j.jsx)("button",{className:"pagination__btn pagination__btn_type_go",disabled:a===t?"disabled":null,onClick:n,children:"Next Page"})})]})})})}function m(e){var t=e.isMobile,a=e.isTablet,c=e.searchedCards,s=e.isLoading,n=e.isNoData,r=e.isError,i=e.onCardClick,l=e.count,o=e.pages,u=e.currentPage,b=e.onPreviousPage,d=e.onPageClick,h=e.onNextPage;return Object(j.jsx)("div",{className:"cards-container",children:s?Object(j.jsx)(O,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"cards-container__summary",children:[Object(j.jsxs)("p",{className:"summary__item",children:[l," results"]}),Object(j.jsxs)("p",{className:"summary__item",children:[o," pages"]})]}),Object(j.jsx)(_,{currentPage:u,pages:o,onPreviousPage:b,onPageClick:d,onNextPage:h}),Object(j.jsx)(p,{searchedCards:c,onCardClick:i,isNoData:n,isMobile:t,isTablet:a,isError:r})]})})}a(41);function x(e){var t=e.onSearchSubmit,a=Object(c.useState)(""),s=Object(i.a)(a,2),n=s[0],r=s[1],l=Object(c.useState)(""),o=Object(i.a)(l,2),u=o[0],b=o[1],d=Object(c.useState)(""),h=Object(i.a)(d,2),p=h[0],O=h[1],_=Object(c.useState)("all"),m=Object(i.a)(_,2),x=m[0],f=m[1],g=Object(c.useState)("all"),N=Object(i.a)(g,2),v=N[0],C=N[1];return Object(j.jsx)("div",{className:"search",children:Object(j.jsx)("div",{className:"search__wrapper",children:Object(j.jsxs)("form",{className:"search__form",onSubmit:function(e){e.preventDefault(),t(n,u,p,x,v)},children:[Object(j.jsxs)("fieldset",{className:"search__fieldset search__fieldset_inputs",children:[Object(j.jsxs)("label",{htmlFor:"search-name",className:"search__input-label",children:[Object(j.jsx)("span",{className:"search__span",children:"name:"}),Object(j.jsx)("input",{id:"search-name",type:"text",name:"search-name",value:n,onChange:function(e){r(e.target.value)},minLength:"0",maxLength:"300",className:"search__input",pattern:"^.+$",placeholder:"name"})]}),Object(j.jsxs)("label",{htmlFor:"search-species",className:"search__input-label",children:[Object(j.jsx)("span",{className:"search__span",children:"species:"}),Object(j.jsx)("input",{id:"search-species",type:"text",name:"search-species",value:u,onChange:function(e){b(e.target.value)},minLength:"0",maxLength:"300",className:"search__input",pattern:"^.+$",placeholder:"species"})]}),Object(j.jsxs)("label",{htmlFor:"search-type",className:"search__input-label",children:[Object(j.jsx)("span",{className:"search__span",children:"type:"}),Object(j.jsx)("input",{id:"search-type",type:"text",name:"search-type",value:p,onChange:function(e){O(e.target.value)},minLength:"0",maxLength:"300",className:"search__input",pattern:"^.+$",placeholder:"type"})]})]}),Object(j.jsxs)("fieldset",{className:"search__fieldset search__fieldset_selects",children:[Object(j.jsxs)("label",{className:"search__fieldset-label",children:[Object(j.jsx)("span",{className:"search__span",children:"status:"}),Object(j.jsxs)("select",{className:"search__select",value:x,onChange:function(e){f(e.target.value)},children:[Object(j.jsx)("option",{value:"all",children:"all"}),Object(j.jsx)("option",{value:"alive",children:"Alive"}),Object(j.jsx)("option",{value:"dead",children:"Dead"}),Object(j.jsx)("option",{value:"unknown",children:"Unknown"})]})]}),Object(j.jsxs)("label",{className:"search__fieldset-label",children:[Object(j.jsx)("span",{className:"search__span",children:"gender:"}),Object(j.jsxs)("select",{className:"search__select",value:v,onChange:function(e){C(e.target.value)},children:[Object(j.jsx)("option",{value:"all",children:"all"}),Object(j.jsx)("option",{value:"female",children:"Female"}),Object(j.jsx)("option",{value:"male",children:"Male"}),Object(j.jsx)("option",{value:"genderless",children:"Genderless"}),Object(j.jsx)("option",{value:"unknown",children:"Unknown"})]})]})]}),Object(j.jsx)("button",{className:"search__button",type:"submit",children:"Search"})]})})})}a(42);function f(){var e=Object(l.f)();return Object(j.jsxs)("div",{className:"not-found-page",children:[Object(j.jsx)("h2",{className:"not-found-page__title",children:"404"}),Object(j.jsx)("p",{className:"not-found-page__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(j.jsx)("span",{className:"not-found-page__link",onClick:function(){return e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})}a(43);function g(e){var t=e.card,a=e.onClose,s=Object(c.useState)(""),n=Object(i.a)(s,2),r=n[0],l=n[1],o=Object(c.useState)(""),u=Object(i.a)(o,2),b=u[0],d=u[1],h=Object(c.useState)(""),p=Object(i.a)(h,2),O=p[0],_=p[1],m=Object(c.useState)(""),x=Object(i.a)(m,2),f=x[0],g=x[1],N=Object(c.useState)(""),v=Object(i.a)(N,2),C=v[0],k=v[1],S=Object(c.useState)(""),y=Object(i.a)(S,2),P=y[0],w=y[1],L=t?"popup_opened":"";return Object(c.useEffect)((function(){t&&(l(t.image),d(t.name),_(t.species),g(t.type),k(t.status),w(t.gender))}),[t]),Object(j.jsx)("section",{className:"popup popup_type_character ".concat(L),onClick:function(e){e.target===e.currentTarget&&a()},children:Object(j.jsxs)("div",{className:"popup__character-wrapper",children:[Object(j.jsxs)("figure",{className:"popup__figure",children:[Object(j.jsx)("img",{className:"popup__image",src:r,alt:b}),Object(j.jsxs)("figcaption",{className:"popup__caption",children:[Object(j.jsx)("h3",{className:"popup__title",children:b||"None"}),Object(j.jsxs)("p",{className:"popup__text",children:["species: ",O||"None"]}),Object(j.jsxs)("p",{className:"popup__text",children:["type: ",f||"None"]}),Object(j.jsxs)("p",{className:"popup__text",children:["status: ",C||"None"]}),Object(j.jsxs)("p",{className:"popup__text",children:["gender: ",P||"None"]})]})]}),Object(j.jsx)("button",{type:"reset","aria-label":"Close",className:"popup__close popup__close_type_full-image",onClick:a})]})})}var N=a(19),v=a(20),C=function(){function e(t){Object(N.a)(this,e),this.url=t.baseUrl,this.headers=t.headers}return Object(v.a)(e,[{key:"_parseResponse",value:function(e){return e.ok||404===e.status?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status)))}},{key:"getAllCharacters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return fetch("".concat(this.url,"/api/character/?page=").concat(e).concat(t),{headers:this.headers}).then(this._parseResponse)}}]),e}(),k=new C({baseUrl:"https://rickandmortyapi.com",headers:{"Content-Type":"application/json"}}),S=a(15);function y(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),r=Object(i.a)(n,2),o=r[0],d=r[1],h=Object(c.useState)(""),p=Object(i.a)(h,2),O=p[0],_=p[1],N=Object(c.useState)(""),v=Object(i.a)(N,2),C=v[0],y=v[1],P=Object(c.useState)(""),w=Object(i.a)(P,2),L=w[0],E=w[1],D=Object(c.useState)(""),F=Object(i.a)(D,2),M=F[0],T=F[1],A=Object(c.useState)(!1),U=Object(i.a)(A,2),B=U[0],I=U[1],R=Object(c.useState)(!1),$=Object(i.a)(R,2),G=$[0],J=$[1],Q=Object(c.useState)("all"),W=Object(i.a)(Q,2),z=W[0],K=W[1],Y=Object(c.useState)("all"),q=Object(i.a)(Y,2),H=q[0],V=q[1],X=Object(c.useState)(!1),Z=Object(i.a)(X,2),ee=Z[0],te=Z[1],ae=Object(c.useState)(null),ce=Object(i.a)(ae,2),se=ce[0],ne=ce[1],re=Object(c.useState)(1),ie=Object(i.a)(re,2),le=ie[0],oe=ie[1],je=Object(S.useMediaQuery)({maxWidth:630}),ue=Object(S.useMediaQuery)({maxWidth:930});function be(){ne(null),document.removeEventListener("keydown",de)}function de(e){27===e.keyCode&&be()}return Object(c.useEffect)((function(){if(o||O||C||z||H){J(!0);var e=""!==o?"&name=".concat(o.toLowerCase()):"",t=""!==O?"&species=".concat(O.toLowerCase()):"",a=""!==C?"&type=".concat(C.toLowerCase()):"",c=z&&"all"!==z?"&status=".concat(z):"",n=H&&"all"!==H?"&gender=".concat(H):"",r="".concat(e).concat(c).concat(t).concat(a).concat(n);k.getAllCharacters(le,r).then((function(e){"There is nothing here"!==(null===e||void 0===e?void 0:e.error)?(s(e.results),E(e.info.count),T(e.info.pages)):(E(0),T(0),te(!0))})).catch((function(){I(!0)})).finally((function(){J(!1)}))}}),[o,O,C,z,H,le]),Object(c.useEffect)((function(){B||(!a.length&&(o||O||C||z||H)?te(!0):te(!1))}),[a,o,O,C,z,H,B]),Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)(u,{}),Object(j.jsx)(x,{onSearchSubmit:function(e,t,a,c,s){I(!1),d(e),_(t),y(a),K(c),V(s)}}),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/",children:Object(j.jsx)(m,{searchedCards:a,onCardClick:function(e){ne(e),document.addEventListener("keydown",de)},isMobile:je,isTablet:ue,isLoading:G,isNoData:ee,isError:B,pages:M,count:L,currentPage:le,onPreviousPage:function(e){e.preventDefault(),le-1>1&&oe(le-1)},onPageClick:function(e,t){e.preventDefault(),t!==le&&oe(t)},onNextPage:function(e){e.preventDefault(),le+1<=M&&oe(le+1)}})}),Object(j.jsx)(l.a,{path:"*",children:Object(j.jsx)(f,{})})]}),Object(j.jsx)(b,{}),Object(j.jsx)(g,{onClose:be,card:se})]})}var P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,45)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(y,{})})}),document.getElementById("root")),P()}},[[44,1,2]]]);
//# sourceMappingURL=main.23fddc3c.chunk.js.map